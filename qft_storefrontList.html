<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>店面设置</title>
    <!--主样式表-->
    <link rel="stylesheet" href="css/models.css">
    <!--[if lt IE 9]>
    <script src="js/support/html5shiv.min.js"></script>
    <script src="js/support/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="subMainContent">
    <!--店面设置列表-->
    <div class="subMainCon">
        <!--添加店面-->
        <div class="subTopBox">
            <div class="subTopLeft">
                <a class="addbtn JS_addStoreFront" href="javascript:void(0);">添加店面</a><!--<a class="subTopBtn JS_addEditCompany" href="javascript:void(0);">修改公司信息</a>-->
            </div>
        </div>
        <!--end 添加店面-->
        <!--店面列表-->
        <div class="subConBox">
            <table class="wareList" id="example"></table>
        </div>
        <!--end 店面列表-->
    </div>
    <!--end 店面设置列表-->
</div>
<!--添加店面-->
<div class="PopupBox hide" id="qft_storeFrontBox">
    <form id="addStoreFront" action="" method="">
        <table class="popupList">
            <tr>
                <th class="fieldName_one"><span class="require">*</span>所属城市：</th>
                <td>
                    <input name="" type="text" placeholder="请输入城市">
                </td>
            </tr>
            <tr>
                <th class="fieldName_one"><span class="require">*</span>店面名称：</th>
                <td><input class="validate[required,maxSize[4]]" name="" type="text" placeholder="请输入店面名称"></td>
                <td class="gray-col">*例如 ：XX店（限4个字）</td>
            </tr>
            <tr>
                <th class="fieldName_one">分店座机号码：</th>
                <td><input name="" type="text" placeholder="请输入分店座机号码"></td>
                <td class="gray-col">400电话和座机电话均可</td>
            </tr>
            <tr>
                <th class="fieldName_one">店面所在地：</th>
                <td><input name="" type="text" placeholder="请输入店面所在地"></td>
                <td class="gray-col">电子合同中生成店面地址</td>
            </tr>
            <!--<tr>
                <th class="fieldName_one">地图定位地址：</th>
                <td><input name="" type="text" value=""></td>
                <td class="gray-col">*在地图中定位地址</td>
            </tr>-->
            <tr>
                <th class="fieldName_one">公司名称：</th>
                <td><input class="disabled" name="" type="text" value="公司名称" disabled></td>
                <td class="gray-col"><p class="companyDesc">公司名称 是用于电子合同生成的公司名称，有的公司是合伙人模式或加盟模式... <a class="companyDescMore" href="javascript:void(0);">更多&gt;&gt;</a></p></td>
            </tr>
            <tr>
                <th class="fieldName_one">是否分组：</th>
                <td>
                    <div class="property">
                        <label class="propRadio"><input class="JS_groupRadio" name="group" type="radio" value="0" checked="">不分组</label>
                        <label class="propRadio"><input class="JS_groupRadio" name="group" type="radio" value="1">分组</label>
                    </div>
                </td>
                <td class="gray-col">在店面下面再分小组，如“万达广场店”下面又分A组、B组、C组。</td>
            </tr>
        </table>
        <div class="addGroupBox">
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg addGroup"></span></p>
        </div>
    </form>
</div>
<!--end 添加店面-->
<!--编辑店面-->
<div class="PopupBox hide" id="qft_editStoreFrontBox">
    <form id="editStoreFront" action="" method="">
        <table class="popupList">
            <tr>
                <th class="fieldName_one"><span class="require">*</span>所属城市：</th>
                <td>
                    <input name="" type="text" placeholder="请输入城市">
                </td>
            </tr>
            <tr>
                <th class="fieldName_one"><span class="require">*</span>店面名称：</th>
                <td><input class="validate[required,maxSize[4]]" name="" type="text" placeholder="请输入店面名称"></td>
                <td class="gray-col">*例如 ：XX店（限4个字）</td>
            </tr>
            <tr>
                <th class="fieldName_one">分店座机号码：</th>
                <td><input name="" type="text" placeholder="请输入分店座机号码"></td>
                <td class="gray-col">400电话和座机电话均可</td>
            </tr>
            <tr>
                <th class="fieldName_one">店面所在地：</th>
                <td><input name="" type="text" placeholder="请输入店面所在地"></td>
                <td class="gray-col">电子合同中生成店面地址</td>
            </tr>
            <!--<tr>
                <th class="fieldName_one">地图定位地址：</th>
                <td><input name="" type="text" value=""></td>
                <td class="gray-col">*在地图中定位地址</td>
            </tr>-->
            <tr>
                <th class="fieldName_one">公司名称：</th>
                <td><input class="disabled" name="" type="text" value="公司名称" disabled></td>
                <td class="gray-col"><p class="companyDesc">公司名称 是用于电子合同生成的公司名称，有的公司是合伙人模式或加盟模式... <a class="companyDescMore" href="javascript:void(0);">更多&gt;&gt;</a></p></td>
            </tr>
            <tr>
                <th class="fieldName_one">是否分组：</th>
                <td>
                    <div class="property">
                        <label class="propRadio"><input class="JS_groupRadio" name="group" type="radio" value="0" checked="">不分组</label>
                        <label class="propRadio"><input class="JS_groupRadio" name="group" type="radio" value="1">分组</label>
                    </div>
                </td>
                <td class="gray-col">在店面下面再分小组，如“万达广场店”下面又分A组、B组、C组。</td>
            </tr>
        </table>
        <div class="addGroupBox">
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>
            <p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg addGroup"></span></p>
        </div>
    </form>
</div>
<!--end 添加店面-->
<!--修改公司信息-->
<!--<div class="PopupBox hide" id="qft_companyInfoBox">
    <form id="companyInfo" action="" method="">
        <h2 class="PopupTitle">修改公司信息</h2>
        <table class="popupList">
            <tr>
                <th class="fieldName">公司名称：</th>
                <td><p class="infoTxt">重庆新凯公寓</p></td>
                <th class="fieldName">创建时间：</th>
                <td><p class="infoTxt">2018-04-25</p></td>
            </tr>
            <tr>
                <th class="fieldName"><span class="require">*</span>地址：</th>
                <td><input name="" type="text" placeholder="请输入地址"></td>
                <th class="fieldName"><span class="require">*</span>座机号码：</th>
                <td><input name="" type="text" placeholder="请输入座机号码"></td>
            </tr>
            <tr>
                <th class="fieldName_one">联系方式：</th>
                <td><p class="infoTxt">15730676666</p></td>
            </tr>
        </table>
    </form>
</div>-->
<!--end 修改公司信息-->
<!--添加城市-->
<!--<div class="PopupBox hide" id="qft_cityBox">
    <form id="cityForm" action="" method="">
        <table class="popupList">
            <tr>
                <th class="fieldName"><span class="require">*</span>城市名称：</th>
                <td><input class="validate[required]" name="bumen1" type="text" value="" placeholder="请输入城市"></td>
            </tr>
            <tr>
                <th class="fieldName"><span class="require">*</span>城市名称：</th>
                <td><input class="validate[required]" name="bumen1" type="text" value="" placeholder="请输入城市"></td>
            </tr>
            <tr>
                <th class="fieldName"><span class="require">*</span>城市名称：</th>
                <td><input class="validate[required]" name="bumen1" type="text" value="" placeholder="请输入城市"></td>
            </tr>
        </table>
    </form>
</div>-->
<!--end 添加城市-->
<!--有房源删除提示-->
<div class="PopupBox hide" id="qft_deleteBox">
    <div class="existBox">
        <p>此店面名下存在126条房源，不能删除<br/>正常房源：120条&nbsp;&nbsp;&nbsp;&nbsp;回收站：20条</p>
    </div>
    <h2 class="PopupTitle">备注</h2>
    <p class="textareaBox">如果确定删除此店面，请先将正常房源操作"房东退房"，房东退房后悔进入"回收站"，然后在回收站里面将该店房源彻底删除。</p>
</div>
<!--end 有房源删除提示-->
<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<!--layer弹出层-->
<script type="text/javascript" src="js/layer/layer.js"></script>
<!--dataTable-->
<script type="text/javascript" src="js/datatables/jquery.dataTables.js"></script>
<!--表单验证-->
<script type="text/javascript" src="js/validate/jquery.validationEngine-zh_CN.js"></script>
<script type="text/javascript" src="js/validate/jquery.validationEngine.js"></script>
<script>
    $(function(){
        //表单验证
        $("#addStoreFront,#cityForm,#editStoreFront,#companyInfo").validationEngine({
            addPromptClass: 'formError-text',
            showArrow: false,
            promptPosition: 'bottomLeft:5 0'
        });
        //添加门店
        $('.subTopBox').on('click','.JS_addStoreFront',function(){
            layer.open({
                type: 1,
                title: '添加门店',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['660px','395px'],
                btn:['保存','关闭'],
                btnAlign: 'c',
                content: $('#qft_storeFrontBox')
            });
        });
        //编辑门店
        $('.wareList').on('click','.JS_editStoreFront',function(){
            layer.open({
                type: 1,
                title: '编辑门店',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['660px','395px'],
                btn:['保存','关闭'],
                btnAlign: 'c',
                content: $('#qft_editStoreFrontBox')
            });
        });
        //删除
        /*$('.wareList').on('click','.JS_delete',function(){
            layer.confirm('是否确定删除？',{
                title: '信息确认',
                skin: 'popup-title-bg', //样式类名
                icon: 3,
                btnAlign: 'c',
                area: ['350px','170px'],
                closeBtn : 0
            });
        });*/
        //删除有房源的提示
        $('.wareList').on('click','.JS_delete',function(){
            layer.open({
                type: 1,
                title: '提示信息',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['500px','272px'],
                btn:['取消'],
                btnAlign: 'c',
                content: $('#qft_deleteBox')
            });
        });
        //查看更多公司描述
        $('.companyDesc').on('click', '.companyDescMore', function(){
            layer.open({
                type: 1,
                title: '信息',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['300px','215px'],
                btn:['关闭'],
                btnAlign: 'c',
                content: '<p style="padding: 10px;">公司名称 是用于电子合同生成的公司名称，有的公司是合伙人模式或加盟模式，每个店面生成出来的合同公司名称不一样，所以需要在这里填写公司名称。如果你的所有店面生成的公司名称都一样，则可不用填写。</p>'
            });
        });
        //分组与不分组
        $('.popupList').on('click','.JS_groupRadio', function(){
            var groupVal = $(this).val();
            if(parseInt(groupVal) == 1){
                $('.addGroupBox').fadeIn(200);
            }else{
                $('.addGroupBox').fadeOut(200);
            }
        });
        //删除分组
        $('.addGroupBox').on('click','.deleteGroup', function(){
            $(this).parents('.addGroupList').remove();
        });
        //添加分组
        $('.addGroupBox').on('click','.addGroup', function(){
            var groupHtml = '<p class="addGroupList"><span class="groupName">组名：</span><input class="groupInput" name="" type="text"><span class="groupImg deleteGroup"></span></p>';
            $('.addGroupBox').find('.addGroupList').eq(-2).after(groupHtml);
        });
        //修改公司信息
       /* $('.subTopBox').on('click','.JS_addEditCompany',function(){
            layer.open({
                type: 1,
                title: '修改公司信息',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['660px','298px'],
                btn:['确定'],
                btnAlign: 'c',
                content: $('#qft_companyInfoBox')
            });
        });*/
        //列表点击添加分组
        $('.wareList').on('click','.JS_clickAddGroup',function(){
            layer.open({
                type: 2,
                title: '添加分组',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['760px','400px'],
                //btn:['确定'],
                btnAlign: 'c',
                content: 'qft_addGroup.html'
            });
        });
        //列表点击设置账号
        $('.wareList').on('click','.JS_setAccount',function(){
            layer.open({
                type: 2,
                title: '设置账户',
                skin: 'popup-title-bg', //样式类名
                closeBtn : 1,
                area: ['760px','460px'],
                //btn:['确定'],
                btnAlign: 'c',
                content: 'qft_setAccount.html'
            });
        });
        $('#example').DataTable({
            "bServerSide": true,
            "sPaginationType": "full_numbers",
            //"bJQueryUI": true,
            "sDom": '<"">t<"F"ip>',
            "autoWidth": false,  //自适应宽度
            //"sAjaxSource": "${ctx}/api/user/list", //ajax调用接口
            //<div class="btn-group" style="text-align:left;"><button type="button" class="btn btn-info dropdown-toggle"data-toggle="dropdown">操作 <span class="caret"></span></button>
            "sAjaxSource": "data/userlist.txt", //ajax调用接口
            "aoColumnDefs": [{sDefaultContent: '', orderable: false, aTargets: ['_all']}],
            "aoColumns": [
                {"sTitle": "所属城市", "mData": "id"},
                {"sTitle": "店面名称", "mData": "id1"},
                {"sTitle": "所在地", "mData": "id2"},
                {"sTitle": "当前房源", "mData": "id3"},
                {"sWidth": "110px", "sTitle": "座机号码", "mData": "id4"},
                {"sWidth": "90px", "sTitle": "在线收租账号", "mData": "id5", "mRender" : function(data, type, full){
                        return '<a class="wareListClick JS_setAccount" href="javascript:void(0);">点击设置</a>'
                    }
                },
                {"sTitle": "分组", "mData": "id5", "mRender" : function(data, type, full){
                        return '<a class="wareListClick JS_clickAddGroup" href="javascript:void(0);">点击添加</a>'
                    }
                },
                {"sWidth": "90px", "sTitle": "房源转移", "mData": "id5", "mRender" : function(data, type, full){
                        return '<a class="wareListClick JS_clickShiftGroup" href="javascript:void(0);">点击转移</a>'
                    }
                },
                {"sWidth": "130px", "sTitle": "创建时间", "mData": "id6"},
                {"sWidth": "110px", "sTitle" : "基本操作","mData" : "id","sClass":"tableShow", "mRender" : function ( data, type, full ) {
                        var text = '<a class="operateBtn deleteCol JS_delete" href="javascript:void(0);">删除</a>&nbsp;|&nbsp;';
                        text += '<a class="operateBtn JS_editStoreFront" href="javascript:void(0);">修改</a>';
                        return text;
                    }
                }
            ],
            "oLanguage": {
                "sProcessing": "数据加载中······",
                "sLengthMenu": "显示 _MENU_ 条记录",
                "sZeroRecords": "没有您要搜索的内容！",
                "sEmptyTable": "列表中无数据存在！",
                "sInfo": "当前显示 _START_ 到 _END_ 条数据，共 _TOTAL_ 条数据",
                "sInfoEmpty": "显示 0 到 0 条记录",
                "sInfoFiltered": "数据列表中共  _MAX_ 条记录",
                "oPaginate": {
                    "sFirst": "首页",
                    "sPrevious": "上一页",
                    "sNext": "下一页",
                    "sLast": "末页"
                }
            }
            /*"fnServerData" : function ( sSource, aoData, fnCallback, oSettings ) {
               oSettings.jqXHR = $.ajax( {
                   "dataType" 	: 'json',
                   "type" 		: "GET",
                   "async"     : 'false',
                   "url" 		: sSource,
                   "data" 		: {
                       'pageNum': (aoData[3].value/aoData[4].value)+1,
                       'pageSize' :  aoData[4].value,
                       'telphone'  :  $("#telphone").val(),
                       'isable' : $('#isable').val()
                   },
                   "success"	: fnCallback
               } );
           }*/
        });
    })
</script>
</body>
</html>